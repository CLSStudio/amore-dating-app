# 🔑 管理員功能快速測試指南

## 測試步驟

### 1. 訪問應用
打開瀏覽器訪問：`http://localhost:8083`

### 2. 管理員快速登入
在歡迎頁面：

1. **顯示快捷鍵提示**：
   - 按 `Ctrl + Alt + H`
   - 應該會看到快捷鍵提示框出現

2. **管理員登入**：
   - 方法一：按 `Ctrl + Alt + A`
   - 方法二：連續按三次 `Esc` 鍵（2秒內）
   - 應該會看到 "🔑 管理員登入成功！" 的綠色提示
   - 自動跳轉到主頁面

### 3. 驗證管理員權限
登入成功後：

1. **檢查個人檔案頁面**：
   - 點擊底部導航的 "我的" 標籤
   - 應該會看到紅色的 "🔑 管理員面板" 卡片

2. **訪問管理員面板**：
   - 點擊管理員面板卡片
   - 進入管理員面板頁面

### 4. 測試管理員功能

#### 4.1 查看系統統計
- 在管理員面板首頁查看：
  - 總用戶數
  - 活躍用戶數
  - 總消息數
  - AI 分析次數

#### 4.2 創建測試用戶
1. 滾動到 "測試工具" 區域
2. 點擊 "創建測試用戶"
3. 應該會看到成功提示
4. 點擊刷新按鈕，用戶數應該增加

#### 4.3 生成測試聊天
1. 點擊 "生成測試聊天"
2. 應該會看到成功提示
3. 消息數統計應該增加

#### 4.4 測試 AI 對話分析
1. 返回主頁面
2. 點擊 "聊天" 標籤
3. 點擊 "開始分析" 按鈕
4. 測試真心度分析功能

#### 4.5 清理測試數據
1. 返回管理員面板
2. 在 "數據管理" 區域點擊 "清理測試數據"
3. 確認清理操作
4. 應該會看到成功提示

### 5. 測試用戶管理功能

#### 5.1 重置用戶密碼
1. 在 "用戶管理" 區域點擊 "重置用戶密碼"
2. 輸入測試郵件地址（如：test@example.com）
3. 點擊發送
4. 應該會看到郵件發送提示

## 預期結果

### ✅ 成功指標
- [ ] 快捷鍵提示正常顯示/隱藏
- [ ] 管理員登入成功並顯示綠色提示
- [ ] 個人檔案頁面顯示管理員面板入口
- [ ] 管理員面板正常載入並顯示統計
- [ ] 測試用戶創建成功
- [ ] 測試聊天生成成功
- [ ] AI 對話分析功能正常
- [ ] 數據清理功能正常
- [ ] 密碼重置功能正常

### ❌ 常見問題
1. **快捷鍵不起作用**：
   - 確保頁面有焦點
   - 嘗試點擊頁面後再按快捷鍵

2. **管理員登入失敗**：
   - 檢查控制台錯誤信息
   - 確認 Firebase 配置正確

3. **看不到管理員面板**：
   - 確認登入狀態
   - 檢查 `AdminService.isCurrentUserAdmin()` 返回值

4. **統計數據為 0**：
   - 這是正常的，新系統沒有數據
   - 創建測試數據後會有數據

## 控制台日誌

測試過程中注意觀察瀏覽器控制台的日誌輸出：

```
✅ 管理員登入成功
✅ 管理員檔案創建成功
✅ 用戶統計獲取成功: {totalUsers: 1, activeUsers: 1, ...}
✅ 測試用戶創建完成
✅ 測試聊天記錄生成完成
✅ 測試數據清理完成
```

## 安全驗證

### 權限檢查
1. **登出後重新訪問**：
   - 登出管理員帳戶
   - 用普通用戶登入
   - 確認看不到管理員面板

2. **直接訪問管理員頁面**：
   - 非管理員用戶直接訪問管理員面板
   - 應該顯示 "權限不足" 頁面

### 數據安全
1. **操作確認**：
   - 危險操作（如清理數據）需要確認對話框
   - 確認後才執行操作

2. **錯誤處理**：
   - 網絡錯誤時顯示適當的錯誤信息
   - 不會導致應用崩潰

## 測試完成檢查清單

- [ ] 管理員快速登入功能正常
- [ ] 管理員面板訪問正常
- [ ] 系統統計顯示正確
- [ ] 測試用戶創建功能正常
- [ ] 測試聊天生成功能正常
- [ ] AI 對話分析功能正常
- [ ] 數據清理功能正常
- [ ] 用戶管理功能正常
- [ ] 權限檢查正常
- [ ] 安全措施有效

---

完成以上測試後，管理員系統應該完全正常運行。如有任何問題，請檢查控制台日誌和 Firebase 配置。 